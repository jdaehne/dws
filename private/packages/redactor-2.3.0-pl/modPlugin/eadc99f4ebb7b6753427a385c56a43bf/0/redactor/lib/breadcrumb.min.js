if(!RedactorPlugins)var RedactorPlugins={};!function(a){RedactorPlugins.breadcrumb=function(){return{init:function(){var b=this;a(this.$editor).after('<p class="redactor_message_box redactor_breadcrumb" id="redactor_breadcrumb-'+this.uuid+'"><i class="icon icon-code"></i>&nbsp;<span></span></p>');var c=a("#redactor_breadcrumb-"+this.uuid);this.$editor.on("keyup.redactor-limiter",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)).on("click",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)).on("sync",a.proxy(function(a){this.breadcrumb.handleChange(a)},this)),this.$element.on("sourceCallback",function(a){b.opts.visual?c.show():c.hide()})},handleChange:function(b){var c=this.selection.getCurrent(),d=a("#redactor_breadcrumb-"+this.uuid),e=a(c).clone(),f=(e.find('*[data-verified="redactor"]'),e.closest("div.redactor-editor"),[]);if(a(c).parent().is("div.redactor-editor"))f.push(a(e)[0].tagName);else for(var g=a(c);a(g)[0]&&void 0!==g.parent()&&!g.is("div.redactor-editor");)f.push(a(g)[0].tagName),g=g.parent();f=f.reverse(),d.children("span").html(f.join("&nbsp;&raquo;&nbsp;"))}}}}(jQuery);