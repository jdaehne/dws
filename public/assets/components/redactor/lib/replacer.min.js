if(!RedactorPlugins)var RedactorPlugins={};!function(a){RedactorPlugins.replacer=function(){return{getTemplate:function(){return String()+'<section id="redactor-modal-replacer"><p>Search and replace found text.</p><label>Search</label><input type="text" size="5" value="2" id="redactor-replacer-find" required /><label>Replace</label><input type="text" size="5" value="3" id="redactor-replacer-replace" required /><div class="options"><div class="ignore-case"><label>Ignore Case</label><input type="checkbox" id="redactor-replacer-ignore-case" /></div></div></section>'},init:function(){a.extend(this.opts.shortcuts,{"ctrl+f":{func:"replacer.show",params:[]}})},show:function(){this.modal.addTemplate("replacer",this.replacer.getTemplate()),this.modal.load("replacer",this.lang.get("replacer")||"Replacer",300),this.modal.createCancelButton(),this.modal.createActionButton("Replace").on("click",this.replacer.replace),this.sel&&this.sel.toString()&&(a("#redactor-replacer-find").val(this.sel.toString()),a("#redactor-replacer-replace").focus()),this.selection.save(),this.modal.show(),a("#redactor-modal-replacer").focus()},replace:function(){function b(a,b,d,e){return d.replace(a instanceof RegExp?a:new RegExp(c(a),e),b)}function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var d=a("#redactor-replacer-find").val(),e=a("#redactor-replacer-replace").val(),f=a("#redactor-replacer-ignore-case").is(":checked");d&&e&&this.insert.set(b(d,e,this.$editor.html(),"g"+(f?"i":""))),this.modal.close(),this.selection.restore()}}}}(jQuery);